<section data-ng-controller="IndustryController" data-ng-init="find()">
	<div class="page-header">
		<h1>List of Industries</h1>
	</div>
	<div class="row">
		<div class="col-xs-12 col-md-8">
			<div class="input-group input-group-md">
				<input type="text" placeholder="Search......" class="form-control" ng-model="searchInsutry" style="height: 38px;">
				<span class="input-group-btn">
					<button class="btn btn-danger btn-show" type="button"> 
<i class="glyphicon glyphicon-search"></i> 
						</button>
				</span>
			</div>
		</div>
	</div>
	<br><br>
<!-- 
<div id="chart-ring-year"></div>
<div id="chart-hist-spend"></div>
<div id="chart-row-spenders"></div>

<script type="text/javascript" src="../js/d3.js"></script>
<script type="text/javascript" src="../js/crossfilter.js"></script>
<script type="text/javascript" src="../js/dc.js"></script>
<script type="text/javascript">

var yearRingChart   = dc.pieChart("#chart-ring-year"),
    spendHistChart  = dc.barChart("#chart-hist-spend"),
    spenderRowChart = dc.rowChart("#chart-row-spenders");

// use static or load via d3.csv("spendData.csv", function(error, spendData) {/* do stuff */});
var spendData = [
    {Name: 'Mr A', Spent: '$40', Year: 2011},
    {Name: 'Mr B', Spent: '$10', Year: 2011},
    {Name: 'Mr C', Spent: '$40', Year: 2011},
    {Name: 'Mr A', Spent: '$70', Year: 2012},
    {Name: 'Mr B', Spent: '$20', Year: 2012},
    {Name: 'Mr B', Spent: '$50', Year: 2013},
    {Name: 'Mr C', Spent: '$30', Year: 2013}
];

// normalize/parse data
spendData.forEach(function(d) {
    d.Spent = d.Spent.match(/\d+/);
});

// set crossfilter
var ndx = crossfilter(spendData),
    yearDim  = ndx.dimension(function(d) {return +d.Year;}),
    spendDim = ndx.dimension(function(d) {return Math.floor(d.Spent/10);}),
    nameDim  = ndx.dimension(function(d) {return d.Name;}),
    spendPerYear = yearDim.group().reduceSum(function(d) {return +d.Spent;}),
    spendPerName = nameDim.group().reduceSum(function(d) {return +d.Spent;}),
    spendHist    = spendDim.group().reduceCount();

yearRingChart
    .width(200).height(200)
    .dimension(yearDim)
    .group(spendPerYear)
    .innerRadius(50);

spendHistChart
    .width(300).height(200)
    .dimension(spendDim)
    .group(spendHist)
    .x(d3.scale.linear().domain([0,10]))
    .elasticY(true);

spendHistChart.xAxis().tickFormat(function(d) {return d*10}); // convert back to base unit
spendHistChart.yAxis().ticks(2);

spenderRowChart
    .width(350).height(200)
    .dimension(nameDim)
    .group(spendPerName)
    .elasticX(true);

dc.renderAll();

</script> -->

	<div class="list-group">
		<div class="row">
			<div class="col-sm-4" style="padding: 10px;" ng-show="!searchIndustry">
				<a data-ng-href="/#!/industry/create" class="list-group-item">
					<h4 class="cust-bg-icon text-center"><i class="glyphicon glyphicon-plus"></i></h4>
					<div class="row">
						<div class="col-xs-10 col-xs-offset-1">
							<h4 class="list-group-item-heading">Add new industry</h4>
							<small class="list-group-item-text text-muted">
								Who is next ?
							</small>
						</div>
					</div>				
				</a>
			</div>
			<div class="col-sm-8" data-ng-repeat="industry in industries | filter:searchIndustry" style="padding: 10px;">
				<a data-ng-href="#!/industry/{{industry._id}}" class="list-group-item">
					<small class="list-group-item-text">
		                Posted on
		                <span data-ng-bind="industry.created | date:'medium'"></span>
		                by
		                <span data-ng-bind="industry.user.displayName"></span>
		            </small>
		            <hr/>
		            <div class="row">
		                <div class="col-md-12">
		                    <h4 class="list-group-item-heading" data-ng-bind="industry.industry_name"></h4>
		                </div>
		            </div>		
				</a>
			</div>
		</div>
		
	</div>
	<div class="alert alert-warning text-center" data-ng-if="industries.$resolved && !industries.length">
		No industries yet, why don't you <a href="">create one</a>?
	</div>
</section>